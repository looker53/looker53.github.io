<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>使用 CSS 选择器，定位网页元素 | 明天再学</title>

<link rel="shortcut icon" href="https://yuz.one/favicon.ico?v=1614836103724">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://yuz.one/styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            明天再学
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            首页
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            归档
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            标签
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/post/about" class="menu gt-a-link">
                            关于
                        </a>
                    
                </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1614836103724" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    使用 CSS 选择器，定位网页元素
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2021-03-03 ·
                    </time>
                    
                        <a href="https://yuz.one/jr4f84iIgJ/" class="post-tags">
                            # 测试
                        </a>
                    
                </div>
                <div class="post-content">
                    <figure data-type="image" tabindex="1"><img src="https://uploader.shimo.im/f/IDkfxY8oLJqi87kc.png!thumbnail?fileGuid=d3qj6trHj99hGvHh" alt="图片" loading="lazy"></figure>
<p>css选择器在 web 领域应用非常普遍，不管是前端工程师还是 ui 自动化测试，使用 css 选择器都能精准快速定位到自己想要的元素。css 选择器的内容不是很多，稍微花一点时间就可以直接上手，在应用中就能逐渐掌握，当遇到一个表达式不是很熟练的时候，可以再回来查一下这篇文章。</p>
<p>先来看一下怎么使用 css 选择器。写一个简单的登录界面 HTML ：</p>
<pre><code class="language-xml">&lt;div class=&quot;container&quot;&gt;
  &lt;h2 class=&quot;title&quot;&gt;登录&lt;/h2&gt;
    &lt;form id=&quot;loginForm&quot; action=&quot;/login&quot; method=&quot;post&quot;&gt;
      &lt;div&gt;
        &lt;label&gt;用户名&lt;/label&gt;
        &lt;input name=&quot;username&quot;&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;label&gt;密码&lt;/label&gt;
        &lt;input name=&quot;password&quot;&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;input type=&quot;submit&quot; value=&quot;登录&quot;&gt;
      &lt;/div&gt;
    &lt;/form&gt;
&lt;/div&gt;
</code></pre>
<p>使用  chrome 浏览器打开这个页面，按 F12 进入开发者调试工具，在工具界面按 ctrl + f 就可以输入 css 选择器表达式了。</p>
<figure data-type="image" tabindex="2"><img src="https://uploader.shimo.im/f/jgxuRqyshjHWDkY8.png!thumbnail?fileGuid=d3qj6trHj99hGvHh" alt="图片" loading="lazy"></figure>
<p>在输入框中输入 .container 这个css选择器，就能找到页面中的最外层的div标签。</p>
<p>你也可以通过在开发者工具的console中输入 $(.container)，同样可以找到最外层的div标签。</p>
<figure data-type="image" tabindex="3"><img src="https://uploader.shimo.im/f/EoeM5rAusChdB8Dh.png!thumbnail?fileGuid=d3qj6trHj99hGvHh" alt="图片" loading="lazy"></figure>
<p>前端工程师还需要经常使用 css 选择器编写页面样式，比如通过 css 选择器把 h2 标签的颜色改成红色：</p>
<pre><code class="language-plain">h2 {
  color: red
}
</code></pre>
<p>上面的操作会把页面渲染成这样：</p>
<figure data-type="image" tabindex="4"><img src="https://uploader.shimo.im/f/tmkQoZOw2HOSnAmo.png!thumbnail?fileGuid=d3qj6trHj99hGvHh" alt="图片" loading="lazy"></figure>
<h3 id="基本选择器">基本选择器</h3>
<p>我们编写的.container 就是css 中的基本选择器，表示选择 class 属性包含 container 的元素。</p>
<p>1、*</p>
<p>示例：*#loginForm</p>
<p>含义：通用选择器，可以选择任意元素。示例表示选择 id 属性为 loginForm 的任意元素。</p>
<p>2、element</p>
<p>示例：form</p>
<p>含义：根据元素名称选择元素。示例表示选择标签名为 form 的元素。</p>
<p>3、#</p>
<p>示例：#loginForm</p>
<p>含义：根据元素 id 选择元素。示例表示选择 id 属性为 loginForm 的元素。</p>
<p>4、.</p>
<p>示例：.container</p>
<p>含义：根据元素 class 属性选择元素。示例表示选择 class 属性包含 contianer 的元素。</p>
<p>5、[attr=value]</p>
<p>示例：[name=&quot;username&quot;]</p>
<p>含义：根据元素属性选择元素。示例表示选择 name  属性等于 username 的元素。</p>
<figure data-type="image" tabindex="5"><img src="https://uploader.shimo.im/f/kx199t3OP0NiaKtt.png!thumbnail?fileGuid=d3qj6trHj99hGvHh" alt="图片" loading="lazy"></figure>
<h2 id="属性选择器">属性选择器</h2>
<p>属性选择器就是 [prop=value] 这种语法，它不仅支持相等操作，还有其他一些额外的用法也经常使用。</p>
<p>1、[attr]</p>
<p>示例：[name]</p>
<p>含义：具备 name 属性的元素</p>
<p>2、[attr*=value]</p>
<p>示例：[name*=&quot;user&quot;]</p>
<p>含义：name 属性包含 user 的元素</p>
<p>3、[attr^=value]</p>
<p>示例：[name^=&quot;user&quot;]</p>
<p>含义：name 属性以 user 开头的元素</p>
<p>4、[attr$=value]</p>
<p>示例：[name$=&quot;sername&quot;]</p>
<p>含义：name 属性以 sername 结尾的元素</p>
<p>5、[attr~=value]</p>
<p>示例：[name~=&quot;username&quot;]</p>
<p>含义：name 属性为 username，或者是一个以空格作为分隔的值列表，其中至少有一个值为 username，比如 name=&quot;username beauty&quot;</p>
<p>6、[attr|=value]</p>
<p>示例：[name|=&quot;username&quot;]</p>
<p>含义：name 属性为username，或者以username-作为前缀。比如 name=&quot;username-beauty&quot;</p>
<h2 id="组合选择器">组合选择器</h2>
<p>组合选择器可以组合多个元素，当使用一个元素不能达到效果时，可能会把两个甚至多个元素组合在一起进行选择。比如想选择 div 标签下的 form 标签，就需要用到组合选择器，更准确的说，是后代选择器，用 div form 表示。</p>
<p>除了后代选择器，组合选择器还有其他表示。</p>
<p>1、div &gt; h2</p>
<p>子代选择器。表示 div 标签下第一级子标签 h2，中间不能有其他层级。</p>
<p>2、label ~ input</p>
<p>兄弟选择器。表示 input 在 label 标签后面，并且共享同一个父节点。</p>
<p>3、label + input</p>
<p>紧邻兄弟选择器。表示 input 紧跟在 label 标签后面，并且共享同一个父节点，而 label ~ input 可以在两个元素中间插入其他的元素。</p>
<p>4、label, input</p>
<p>合并选择器。表示同时选择 label 和 input 元素。</p>
<figure data-type="image" tabindex="6"><img src="https://uploader.shimo.im/f/EvWPO5OC80y21ELL.png!thumbnail?fileGuid=d3qj6trHj99hGvHh" alt="图片" loading="lazy"></figure>
<h2 id="伪元素和伪类">伪元素和伪类</h2>
<p>如果在html 中看到类似 :first-child 或者 :hover 这样的，你就是看到了一个伪元素或者伪类。举一些经常使用的伪类选择器。</p>
<p>1、:first-child</p>
<p>该元素是父级元素下的第一个子元素。</p>
<p>2、:last-child</p>
<p>该元素是父级元素下最后一个元素。</p>
<p>3、:nth-child(2)</p>
<p>该元素是父级元素下第 2 个元素，2可以修改。</p>
<p>4、:nth-last-child(2)</p>
<p>该元素是父级元素下倒数第 2 个元素。</p>
<p>5、:nth-of-type(2)</p>
<p>该元素是祖先元素下第 2 个元素，并且祖先元素名称和该元素一致。</p>
<figure data-type="image" tabindex="7"><img src="https://uploader.shimo.im/f/kMbjCIva5sM2bmoZ.png!thumbnail?fileGuid=d3qj6trHj99hGvHh" alt="图片" loading="lazy"></figure>
<h2 id="css-选择器和-xpath-的比较">css 选择器和 xpath 的比较</h2>
<p>xpath 是另一种定位网页元素的技术，我们可以写一些例子对比一下它们之间的区别。</p>
<p>1、通过 id 定位</p>
<p>css：#loginForm</p>
<p>xpath：//*[@id=&quot;loginForm&quot;]</p>
<p>2、通过 class 定位</p>
<p>css：.container</p>
<p>xpath：//*[@class=&quot;container&quot;]</p>
<p>3、通过 name 属性定位</p>
<p>css：[name=&quot;username&quot;]</p>
<p>xpath：//*[@name=&quot;username&quot;]</p>
<p>4、通过父子关系定位</p>
<p>css：div &gt; h2</p>
<p>xpath：//div/h2</p>
<p>5、通过祖先关系定位</p>
<p>css：div form</p>
<p>xpath：//div//form</p>
<p>大体来说：</p>
<p>1、css 更加简洁，xpath 写法更复杂。</p>
<p>2、css 的检索效率更高。</p>
<p>3、css 支持伪元素和伪类。</p>
<p>4、xpath 支持函数，功能上更强大。</p>
<p>5、css 不支持通过文本定位。</p>
<h2 id="总结">总结</h2>
<p>css 选择器是一种常用的定位网页的技术，在前端和自动化领域应用广泛。</p>
<ul>
<li>可以在 f12，console 中编写 css 选择器表达式。</li>
<li>通用选择器有 *，element，.class，#id，[prop=value] 等。</li>
<li>属性选择器有 =, *=，$=，^=，~=，|= 等等。</li>
<li>组合选择器有 &gt;，~，+ 等等。</li>
<li>还有伪类定位。
<h2 id=""></h2>
参考：</li>
</ul>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Selectors">https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Selectors</a></p>
<p><a href="http://www.ruanyifeng.com/blog/2009/03/css_selectors.html">http://www.ruanyifeng.com/blog/2009/03/css_selectors.html</a></p>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://yuz.one/selenium-qi-dong-shi-hui-yu-dao-na-xie-keng/" class="post-title gt-a-link">
                    selenium 启动时会遇到哪些坑
                </a>
            </div>
        

        

        

        
            <script src='https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js'></script>

<style>
	div#vcomments{
		width:100%;
		max-width: 1000px;
		padding: 2.5%
	}
</style>


	<div id="vcomments"></div>

<script>
	new Valine({
		el: '#vcomments',
		appId: '',
		appKey: '',
		avatar: '',
		pageSize: 5,
		recordIp: false,
		placeholder: 'Just Go Go',
		visitor: false,
	});
</script>

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">『明天再学』公众号文章备份</div>
    <div class="social-container">
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        copyright@『明天再学』公众号
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://yuz.one/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
